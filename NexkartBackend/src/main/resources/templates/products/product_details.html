<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<div th:fragment="content" id="divProductDetails" class="space-y-4">
	<!-- Existing details rendered from the model -->
	<th:block th:each="detail, status : ${product.details}">
		<div class="flex items-center space-x-4" th:id="'divDetail' + ${status.index}">
			<input type="hidden" name="detailIDs" th:value="${detail.id}" />
			<div class="w-1/4">
				<label class="block text-gray-700 font-medium">Name:</label>
				<input type="text" name="detailNames"
					   class="w-full border border-gray-300 rounded p-2"
					   maxlength="255" th:value="${detail.name}" />
			</div>
			<div class="w-1/4">
				<label class="block text-gray-700 font-medium">Value:</label>
				<input type="text" name="detailValues"
					   class="w-full border border-gray-300 rounded p-2"
					   maxlength="255" th:value="${detail.value}" />
			</div>
			<button type="button"
					class="bg-red-500 hover:bg-red-600 text-white py-1 px-2 rounded"
					th:onclick="'removeDetailSectionById(\'divDetail' + ${status.index} + '\')'">
				<i class="fas fa-times-circle"></i>
			</button>
		</div>
	</th:block>

	<!-- Blank detail row for new entry -->
	<div class="flex items-center space-x-4"
		 th:id="'divDetail' + ${#lists.size(product.details)}">
		<input type="hidden" name="detailIDs" value="0" />
		<div class="w-1/4">
			<label class="block text-gray-700 font-medium">Name:</label>
			<input type="text" name="detailNames"
				   class="w-full border border-gray-300 rounded p-2"
				   maxlength="255" />
		</div>
		<div class="w-1/4">
			<label class="block text-gray-700 font-medium">Value:</label>
			<input type="text" name="detailValues"
				   class="w-full border border-gray-300 rounded p-2"
				   maxlength="255" />
		</div>
		<button type="button"
				class="bg-red-500 hover:bg-red-600 text-white py-1 px-2 rounded"
				th:onclick="'removeDetailSectionById(\'divDetail' + ${#lists.size(product.details)} + '\')'">
			<i class="fas fa-times-circle"></i>
		</button>
	</div>
</div>
</body>
</html>
